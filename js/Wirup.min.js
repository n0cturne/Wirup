"use strict";var wirup=function(){};wirup.prototype=function(){var e,t=function(e){return document.getElementById(e)},n=(e,t,n,r)=>new Promise((o,a)=>{var i=new XMLHttpRequest;return i.open(e,t,!0),i.setRequestHeader("Content-Type",n),i.setRequestHeader("cache-control","no-cache"),i.setRequestHeader("expires","0"),i.setRequestHeader("expires","Tue, 01 Jan 1980 1:00:00 GMT"),i.setRequestHeader("pragma","no-cache"),i.onreadystatechange=(()=>{if(4===i.readyState)if(200===i.status)o(r(i.responseText));else{const e=i.statusText||"Your ajax request threw an error.";a(e)}}),i.send(),i.responseText}),r=window.location.hash.split("#")[1],o=t=>{e=JSON.parse(t).views},a=(r,o)=>n("GET","views/"+e[r].HTML,"text/plain; charset=UTF-8",e=>{t(o).innerHTML=e}),i={},s={},c={},u=e=>{t("contentBody").querySelectorAll('[datasource="'+e+'"]').forEach(t=>{t.innerHTML=d(t.tagName.toLowerCase(),e),l("Updated Data.",t.tagName.toLowerCase(),"No Comment.")})},d=(e,t)=>{let n="";switch(typeof i[t]){case"object":n=i[t].map((t,n)=>s[e](t));break;case"string":n=s[e](i[t])}return n.join("")},w=function(e){return new Promise((t,n)=>{var r=document.createElement("script");r.type="text/javascript",r.src=e+"?"+(new Date).getTime(),document.getElementsByTagName("head")[0].appendChild(r),r.onload=(()=>{t()}),r.onabort=(()=>{n()})})},p="",l=(e,t,n)=>{let r=(new Date).getTime(),o={name:e,element:t,comment:n,profile:p,timestamp:r},a=localStorage.getItem("wuActions");localStorage.setItem("wuActions",a+","+JSON.stringify(o))},m=()=>new Promise(function(i,s){w("components/components.js").then(()=>{(()=>n("GET","views/views.json","application/json; charset=UTF-8",o))().then(()=>{(t=>new Promise((n,o)=>{let i;var s=r;if(void 0!==r&&"/"!=r||(window.location="/#/"),e){for(var c=0;c<=e.length-1;c++)e[c].url==s&&(i=c);void 0===i&&(i=0),a(i,t).then(()=>{n()})}}))("contentBody").then(()=>{(()=>new Promise(function(e,n){var r=t("contentBody").querySelectorAll("[datasource]");[].forEach.call(r,e=>{e.innerHTML=d(e.tagName.toLowerCase(),e.getAttribute("datasource"))}),l("Switched View","Content Body","No Comment."),e()}))().then(()=>{})})})}),window.onhashchange=function(){window.location.hash!=r&&(r=window.location.hash.split("#")[1],m())},i()});return{wu:t,wijax:n,jsonize:function(e){try{return JSON.parse(window[e])}catch(t){return window[e]}},loadScript:w,registerComponent:(e,t)=>{s[e]=t},registerProfile:e=>{p=e},registerAction:l,buildComponent:d,buildComponents:(e,t)=>{let n="";return e.forEach((e,r)=>{switch(dataSourceType=typeof i[t[r]],dataSourceType){case"object":n=i[t[r]].map((t,n)=>s[e](t));break;case"string":n=s[e](i[t[r]])}}),n.join("")},registerData:(e,t)=>{Object.defineProperty(i,e,{get:function(){return this["_"+e]},set:function(t){this["_"+e],this["_"+e]=t,u(e)}}),i[e]=t},addData:(e,t)=>{var n=[];(n=i[e]).push(t),i[e]=n,n=[]},findIndexByKey:(e,t,n)=>{return wuObject.dataStore[e].findIndex(function(e){return e[t]==n})},updateData:(e,t,n)=>{var r=[];(r=i[e])[t=t-1<0?0:t-1]=n,i[e]=r,r=[]},removeData:(e,t)=>{var n=[];t=t-1<0?0:t-1,(n=i[e]).splice(t,1),i[e]=n,n=[]},dataStore:i,onLoad:e=>{Object.defineProperty(c,"trigger",{get:function(){return this._trigger},set:function(e){this._trigger,this._trigger=e,window[e]()}}),c.trigger=e},components:s,init:m}}(),window.wuObject=new wirup;