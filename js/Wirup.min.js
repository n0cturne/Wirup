"use strict";var wirup=function(){};wirup.prototype=function(){var e,t=function(e){return document.getElementById(e)},n=(e,t,n,o)=>new Promise((a,r)=>{var s=new XMLHttpRequest;return s.open(e,t,!0),s.setRequestHeader("Content-Type",n),s.setRequestHeader("cache-control","no-cache"),s.setRequestHeader("expires","0"),s.setRequestHeader("expires","Tue, 01 Jan 1980 1:00:00 GMT"),s.setRequestHeader("pragma","no-cache"),s.onreadystatechange=(()=>{if(4===s.readyState)if(200===s.status)a(o(s.responseText));else{const e=s.statusText||"Your ajax request threw an error.";r(e)}}),s.send(),s.responseText}),o=window.location.hash.split("#")[1],a=t=>{e=JSON.parse(t).views},r=(o,a)=>n("GET","views/"+e[o].HTML,"text/plain; charset=UTF-8",e=>{t(a).innerHTML=e}),s={},i={},c=e=>{t("contentBody").querySelectorAll('[datasource="'+e+'"]').forEach(t=>{t.innerHTML=u(t.tagName.toLowerCase(),e),w("Updated Data.",t.tagName.toLowerCase(),"No Comment.")})},u=(e,t)=>{let n="";switch(typeof s[t]){case"object":n=s[t].map((t,n)=>i[e](t));break;case"string":n=i[e](s[t])}return n.join("")},d=function(e){return new Promise((t,n)=>{var o=document.createElement("script");o.type="text/javascript",o.src=e+"?"+(new Date).getTime(),document.getElementsByTagName("head")[0].appendChild(o),o.onload=(()=>{t()}),o.onabort=(()=>{n()})})},l=e=>{var t=document.getElementById("progress_bar");t.parentElement.style.display="block",t.parentElement.style.display=e>=100?"none":"block",t.style.width=e+"%"},p="",w=(e,t,n)=>{let o=(new Date).getTime(),a={name:e,element:t,comment:n,profile:p,timestamp:o},r=localStorage.getItem("wuActions");localStorage.setItem("wuActions",r+","+JSON.stringify(a))},m=()=>{d("components/components.js").then(()=>{l(25),(()=>n("GET","views/views.json","application/json; charset=UTF-8",a))().then(()=>{l(55),(t=>new Promise((n,a)=>{let s;var i=o;if(void 0!==o&&"/"!=o||(window.location="/#/"),e){for(var c=0;c<=e.length-1;c++)e[c].url==i&&(s=c);void 0===s&&(s=0),r(s,t).then(()=>{n()})}}))("contentBody").then(()=>{l(75),(()=>new Promise(function(e,n){var o=t("contentBody").querySelectorAll("[datasource]");[].forEach.call(o,e=>{e.innerHTML=u(e.tagName.toLowerCase(),e.getAttribute("datasource"))}),w("Switched View","Content Body","No Comment."),e()}))().then(()=>{l(100)})})})}),window.onhashchange=function(){window.location.hash!=o&&(o=window.location.hash.split("#")[1],m())}};return{wu:t,wijax:n,jsonize:function(e){try{return JSON.parse(window[e])}catch(t){return window[e]}},loadScript:d,registerComponent:(e,t)=>{i[e]=t},registerProfile:e=>{p=e},registerAction:w,buildComponent:u,buildComponents:(e,t)=>{let n="";return e.forEach((e,o)=>{switch(dataSourceType=typeof s[t[o]],dataSourceType){case"object":n=s[t[o]].map((t,n)=>i[e](t));break;case"string":n=i[e](s[t[o]])}}),n.join("")},registerData:(e,t)=>{Object.defineProperty(s,e,{get:function(){return this["_"+e]},set:function(t){this["_"+e],this["_"+e]=t,c(e)}}),s[e]=t},addData:(e,t)=>{var n=[];(n=s[e]).push(t),s[e]=n,n=[]},updateData:(e,t,n)=>{var o=[];(o=s[e])[t=t-1<0?0:t-1]=n,s[e]=o,o=[]},removeData:(e,t)=>{var n=[];t=t-1<0?0:t-1,(n=s[e]).splice(t,1),s[e]=n,n=[]},dataStore:s,components:i,init:m}}(),window.wuObject=new wirup;