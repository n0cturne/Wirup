"use strict";var wirup=function(){};wirup.prototype=function(){var e,t=function(e){return document.getElementById(e)},n=function(e,t,n,a){var o=new XMLHttpRequest;return o.open(e,t,!0),o.setRequestHeader("Content-Type",n),o.setRequestHeader("cache-control","max-age=0"),o.setRequestHeader("expires","0"),o.setRequestHeader("expires","Tue, 01 Jan 1980 1:00:00 GMT"),o.setRequestHeader("pragma","no-cache"),o.onload=a,o.send(),o.responseText},a=window.location.hash.split("#")[1],o=function(){e=JSON.parse(this.responseText).templates},r=function(a,o){n("GET","templates/"+e[a].HTML,"text/plain; charset=UTF-8",function(){t(o).innerHTML=this.responseText})},i=[],l=function(){for(var e,t=0;t<=i.length-1;t++){e=document.getElementsByTagName(i[t].componentName);for(var n=0;n<=e.length-1;n++)void 0!=e[n]&&null!=e[n]&&(e[n].innerHTML=i[t].HTML)}},s=function(e){return Array.isArray(e)?"array":typeof e},c=[],u=[],d=function(e,t){for(var n=!1,a=0;a<=c.length-1;a++)c[a].templateName==e&&(n=!0);n||c.push({templateName:e,templateHTML:t})},w=function(e,t,n){for(var a=!1,o=0;o<=e.length-1;o++)e[o].dataModelName==n&&(a=!0,e[o][t]=n);a||e.push({dataModelName:t,dataObject:n})},f=function(){M();for(var e,t=document.querySelectorAll("[data-list]"),n=[],a=0;a<=t.length-1;a++){var o=t[a].getAttribute("data-list");e=document.createElement(t[a].tagName),w(u,o,window[o]),d(o,t[a]),n=m(o,t[a]);for(var r=0;r<=n.length-1;r++)e.appendChild(n[r]);e=p(t[a],e),t[a].parentNode.replaceChild(e,t[a])}},p=function(e,t){for(var n=e.attributes,a=n.length-1;a>=0;a--)t.setAttribute(n[a].name,n[a].value);return t},m=function(e,t){var n=v(e);window[e]=n;var a=function(e){for(var t,n=0;n<=c.length-1;n++)c[n].templateName==e&&(t=c[n].templateHTML);return t}(e);return document.createElement(a.tagName).className=a.className,h(n,e,a)},h=function(e,t,n){var a,o=[];switch(s(e)){case"object":for(var r=0;r<=e[t].length-1;r++){var i=e[t][r];a=g(t,i,r,n.childNodes[1]),o.push(a)}break;case"array":for(r=0;r<=e.length-1;r++)a=g(t,null,r,n.childNodes[1]),o.push(a)}return o},v=function(e){var t=null;switch(typeof window[e]){case"string":t=b(e);break;case"array":default:t=window[e]}return t},g=function(e,t,n,a){var o,r=a.cloneNode(!0);switch(s(window[e])){case"object":for(var i in t)o=T(e,t,n,r,i);case"array":o=T(e,window[e][n],n,r,null)}return o},N={subtree:!0,attributes:!0,characterData:!0,characterDataOldValue:!0},y=function(e,t,n){for(var a=e.attributes,o=a.length-1;o>=0;o--){a[o].value=="--"+t+"--"&&e.setAttribute(a[o].name,n)}},T=function(e,t,n,a,o){return function a(r){for(var i=0;i<r.childNodes.length;i++){var l=r.childNodes[i];if(l.nodeType!==Node.TEXT_NODE&&l.childNodes)a(l);else{var c=l.nodeValue,u=s(window[e]),d=window[e];switch(u){case"object":if(c.indexOf("--"+o+"--")>-1){l.nodeValue=t[o],y(l.parentElement,o,t[o]);var w=function(t){for(var a=0;a<t.length;a++)d[e][n][o]=l.nodeValue,window[e]=d,console.log(window[e])};new MutationObserver(w).observe(r,N)}break;case"array":c.indexOf("--item--")>-1&&(l.nodeValue=window[e][n],y(l.parentElement,"item",window[e][n]),new MutationObserver(w=function(t){for(var a=0;a<t.length;a++)d[n]=l.nodeValue,window[e]=d,console.log(window[e])}).observe(r,N))}}}}(a),a},b=function(e){try{return JSON.parse(window[e])}catch(t){return window[e]}},E=function(e){var t=document.createElement("script");t.type="text/javascript",t.src=e,document.getElementsByTagName("head")[0].appendChild(t)},M=function(){var e=document.getElementById("progress_bar"),t=1;e.parentElement.style.display="block";var n=setInterval(function(){t>=100?(clearInterval(n),e.parentElement.style.display="none"):(t++,e.style.width=t+"%")},20)},H=[],O=function(){n("GET","templates/templates.json","application/json; charset=UTF-8",o),setTimeout(function(){!function(t){var n,o=a;void 0===a&&(window.location="/#/");for(var i=0;i<=e.length-1;i++)e[i].url==o&&(n=i);r(n,t)}("contentBody")},500),setTimeout(function(){l()},1e3),setTimeout(function(){f(),setInterval(function(){for(var e=0;e<=u.length-1;e++)H.length<u.length&&(H[e]=JSON.stringify(window[u[e].dataModelName])),H[e]!=JSON.stringify(window[u[e].dataModelName])&&(H[e]=JSON.stringify(window[u[e].dataModelName]),f())},500)},1500),window.onhashchange=function(){window.location.hash!=a&&(a=window.location.hash.split("#")[1],O())},E("components/components.js")};return{wu:t,wijax:n,jsonize:b,bindData:f,loadScript:E,setTemplateHolder:function(e){e},registerComponent:function(e){for(var t,n=0;n<=i.length-1;n++)i[n].componentName==e.componentName&&(t=n);void 0!=t&&null!=t?i[n]=e:i.push(e)},renderComponents:l,init:O}}(),window.wuObject=new wirup;
